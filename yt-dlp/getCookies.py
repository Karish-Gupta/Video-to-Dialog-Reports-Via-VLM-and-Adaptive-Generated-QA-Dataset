# dump_cookies.py
import browser_cookie3

def dump_netscape_cookies(output_path='cookies.txt', domain_filter=None):
    # get cookies from Chromium-based browsers (Brave is Chromium-based)
    cj = browser_cookie3.chrome()  # you can try .firefox() if needed

    with open(output_path, 'w', encoding='utf-8') as f:
        f.write('# Netscape HTTP Cookie File\n')
        f.write('# This file was generated by browser_cookie3\n')
        for cookie in cj:
            if domain_filter and domain_filter not in cookie.domain:
                continue
            domain = cookie.domain
            include_subdomains = 'TRUE' if domain.startswith('.') else 'FALSE'
            path = cookie.path
            secure = 'TRUE' if cookie.secure else 'FALSE'
            expires = str(cookie.expires) if cookie.expires else '0'
            line = '\t'.join([domain, include_subdomains, path, secure, expires, cookie.name, cookie.value])
            f.write(line + '\n')

if __name__ == '__main__':
    dump_netscape_cookies('cookies.txt', domain_filter='youtube.com')
    print('Saved cookies.txt')
